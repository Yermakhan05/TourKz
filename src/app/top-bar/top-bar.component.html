<div class="top-bar">
  <div class="top-bar-inner">
    <div class="first-bar">
      <div class="logo-container">
        <img src="./assets/logoTour.png" alt="">
        <img src="./assets/menu.png" class="menu-button" alt="Menu" (click)="toggleMenu()">
          <div class="nav-links" [ngClass]="{ 'active': isMenuOpen }">
              <a routerLink="/main"
                 routerLinkActive="active"
                 [routerLinkActiveOptions]="{ exact: true }"
                 class="nav-link"
                 (click)="toggleMenu()">
                  Home
              </a>

              <a routerLink="/tours"
                 routerLinkActive="active"
                 class="nav-link"
                 (click)="toggleMenu()">
                  Tours
              </a>

              <a routerLink="/contacts"
                 routerLinkActive="active"
                 class="nav-link"
                 (click)="toggleMenu()">
                  Contacts
              </a>

              <a routerLink="/favorites"
                 routerLinkActive="active"
                 class="nav-link"
                 (click)="toggleMenu()">
                  Favorites
              </a>

              <a>
                  <ng-container *ngIf="!(auth.user$ | async)">
                      <a routerLink="/login" routerLinkActive="active" class="nav-link">Login</a>
                      <a routerLink="/register" routerLinkActive="active" class="nav-link" style="margin-left: 10px">Signup</a>
                  </ng-container>

                  <ng-container *ngIf="auth.user$ | async as user">
                      <a routerLink="/profile" routerLinkActive="active" class="nav-link">Profile</a>
                      <a (click)="logout()" class="nav-link" style="margin-left: 10px">Logout</a>
                  </ng-container>
              </a>
          </div>
      </div>
    </div>
    <div class="second-bar" *ngIf="!isSecondBarPage()">
      <div class="social-media">
        <div [ngClass]="{ 'hidden-contacts': isContactPage() }" class="contacts">
          <div class="social-icons">
            <a href="#" target="_blank" rel="noreferrer">
              <img src="./assets/telegram.9e41b085.svg" alt="">
            </a>
            <a href="#" target="_blank" rel="noreferrer">
              <img src="./assets/whatsapp.a4e76175.svg" alt="">
            </a>
            <a href="#" target="_blank" rel="noreferrer">
              <img src="./assets/instagram.a1e35907.svg" alt="">
            </a>
          </div>
          <div class="contact-info">
            <div class="cont">
              <img src="./assets/phone.200fe855.svg" alt="">
              <div class="location-input">
                <div class="city"> +7 776 224 6936</div>
              </div>
            </div>
            <div class="cont">
              <img src="./assets/location.8d2d075d.svg" alt="">
              <div class="location-input">
                <div class="city">Almaty</div>
              </div>
            </div>
            <div class="call-button" (click)="isForm = !isForm">
              <div class="call-button-in">
                <div style="margin-top: 7px;">
                    Booking a call
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-body" *ngIf="isForm">
    <div class="modal">
        <div class="modal-content">

            <!-- (3) Event binding -->
            <button (click)="isForm = !isForm" class="close-btn">&times;</button>

            <h2 class="modal-title">Tour Selection Application</h2>

            <form class="tour-form" #formRef="ngForm" (ngSubmit)="submitForm(formRef)">

                <!-- (4) Two-way binding -->
                <div class="form-group">
                    <input
                            type="text"
                            class="form-input"
                            placeholder="Your name *"
                            [(ngModel)]="name"
                            name="name"
                            #nameRef="ngModel"
                            required>
                    <span *ngIf="nameRef.invalid && nameRef.touched" class="error-text">
            –ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
          </span>
                </div>
                <!-- (1) Interpolation -->
                <div class="preview" *ngIf="name">
                    <p><strong>Hello, </strong> {{ name }}!</p>
                </div>

                <div class="form-group">
                    <input
                            type="email"
                            class="form-input"
                            placeholder="Email"
                            [(ngModel)]="email"
                            name="email"
                            #emailRef="ngModel"
                            required
                            email>
                    <span *ngIf="emailRef.invalid && emailRef.touched" class="error-text">
            –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email!
          </span>
                </div>

                <div class="form-group phone-group">
                    <div class="phone-input">
                        <span class="flag-icon">üá∞üáø</span>
                        <span class="phone-prefix">+7</span>
                        <input
                                type="tel"
                                class="form-input phone-number"
                                placeholder="(000) 000-0000"
                                [(ngModel)]="phone"
                                name="phone"
                                #phoneRef="ngModel"
                                required>
                        <span *ngIf="phoneRef.invalid && phoneRef.touched" class="error-text">
              –¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!
            </span>
                    </div>
                </div>

                <div class="form-group">
          <textarea
                  class="form-input textarea"
                  placeholder="Comment"
                  [(ngModel)]="comment"
                  name="comment">
          </textarea>
                </div>

                <!-- (2) Property binding -->
                <button type="submit" class="submit-btn" [disabled]="formRef.invalid">
                    Submit
                </button>
            </form>
        </div>
    </div>
</div>
